{
  "file_name": "Vastuvotuajad_ja_opingukavad",
  "timestamp": "2025-12-11T19:26:00Z",
  "llm_model": "Claude Opus 4.5",
  "smell_analysis": [
    {
      "rule_id": "G5.1",
      "actual": true,
      "detected": true,
      "justification": "Page 16 'Õpingukavade allsüsteem' is a sequence diagram (sd) that contains ZERO visible elements - only the diagram header is present with no content. Threshold is 0 elements. Since diagram has 0 elements, smell IS present."
    },
    {
      "rule_id": "G5.2",
      "actual": false,
      "detected": false,
      "justification": "Analyzed use case diagrams on pages 17 and 18. On page 17, all 14 use cases (Kuulajaskonna vaatamine, Üliõpilase kuulajaskonnast väljaarjamine, Tuvasta kasutaja, Õppeaine otsimine, Õpingukava koostamine, Õpingukava vaatamine, Vastuste lugemine, Õpingukava esitamine, Õpingukavata üliõpilaste vaatamine, Teatele vastamine, Üliõpilasele ajapikenduse andmine, Semestrite haldamine, Õpingukavade muutmine mitteaktuaalseks, Õpingukavade kinnitamine) are connected to actors (Õppejõud, Üliõpilane, Dekanaadi sekretär, or Subjekt). On page 18, all 11 use cases are similarly connected to actors. Every use case oval has at least 1 actor association."
    },
    {
      "rule_id": "G6.1",
      "actual": false,
      "detected": false,
      "justification": "Reviewed all use case names on pages 17 and 18. No two use cases describe the same activity with the same actor. Use case names are distinct: viewing, creating, submitting, confirming are different activities. No duplicate activity names found."
    },
    {
      "rule_id": "G6.2",
      "actual": false,
      "detected": false,
      "justification": "Reviewed package diagrams. Elements within packages (e.g., Klassifikaatorite register containing Amet, Haridusaste, Moodul, Üliõpilase_seisundi_liik, Õpingukava_seisundi_liik, Õpingukava_sündmuse_liik, Töötaja_seisundi_liik) all have unique names within their respective packages. No duplicate element names found in any package."
    },
    {
      "rule_id": "G6.3",
      "actual": true,
      "detected": false,
      "justification": "Examined database tables across pages 21-32. While tables like 'tootaja' and 'yliopilane' (pages 29-31) contain similar columns (isikukood, eesnimi, perenimi, elukoht, kasutajanimi, parool, e_mail), these represent different entity contexts (employee data vs. student data). The design on pages 24-25 shows proper FK relationships from Tootaja and Yliopilane to Isik table. Per the rule, identically named columns in unrelated tables representing different contexts are NOT redundancy."
    },
    {
      "rule_id": "G8.1",
      "actual": true,
      "detected": true,
      "justification": "Inconsistent naming forms found in use cases. Page 17 primarily uses gerund/noun forms: 'Kuulajaskonna vaatamine', 'Õpingukava koostamine', 'Vastuste lugemine', 'Semestrite haldamine' etc. However, 'Tuvasta kasutaja' uses imperative verb form. Page 18 uses imperative verbs consistently: 'Registreeri', 'Tühista', 'Lisa', 'Paku', 'Paranda', 'Otsi'. This mixture of gerund forms and imperative verbs is inconsistent naming."
    },
    {
      "rule_id": "G15.1",
      "actual": false,
      "detected": false,
      "justification": "Analyzed state diagrams on pages 4, 9, 12, and 14. Page 9 (Õpingukava seisundidiagramm): All 7 states (Koostamisel, Koostamine lõppenud, Aktuaalne, Esitamata, Täiendamisel, Mitteaktuaalne, Kustutatud) can be reached from Algus (start) through defined transitions. Page 14 (Vastuvõtuaja seisundidiagramm): All 4 states (Vaba, Hõivatud, Aegunud, Tühistatud) can be reached from Algus. Every state has at least one incoming transition path."
    },
    {
      "rule_id": "G15.2",
      "actual": false,
      "detected": false,
      "justification": "Analyzed activity diagrams on pages 15, 19, and 20. Page 15: All actions (Õpingukava koostamine, Esitamata jätmise põhjendamine, Õpingukava täiendamine, Eksmatrikuleerimine, Üliõpilase teavitamine, Õpingukava mittekinnitamine, Õpingukava kinnitamine, Kuulajaskonna ülevaatmine, Ajapikenduse otsustamine) are reachable from the start node 'Algas õpingukava koostamise periood'. Pages 19-20: All actions have incoming flows from their respective start nodes."
    },
    {
      "rule_id": "G15.3",
      "actual": false,
      "detected": false,
      "justification": "Examined relationships in class and database diagrams. Page 6: Relationships show multiplicity on both ends (e.g., '1 täpsustab 0..*', '1 alusel õpitakse 0..*', '1 omab 0..*'). Pages 21-32 (database diagrams): All FK relationships display multiplicity indicators (e.g., '0..*' and '1', '0..1' and '1'). Every examined relationship has multiplicity on BOTH ends."
    },
    {
      "rule_id": "S1.1",
      "actual": true,
      "detected": true,
      "justification": "Multiple diagrams exceed the threshold of ≥10 central elements: (1) Page 6 'Õpingukavade_registri_kontseptuaalne_diagramm_1': 17 entities (Isik, Amet, Aine_tüüpõpingukavas, Aine_õpingukavas, Töötaja, Õpetamine, Haridusaste, Õpingukava_seisundi_liik, Tüüpõpingukava, Semester, Õppeaine, Õppekava, Üliõpilase_seisundi_liik, Õpingukava, Üliõpilase_õppekava, Üliõpilane, Piirang). 17 ≥ 10, smell IS present. (2) Page 11: 11 entities. 11 ≥ 10. (3) Page 15: 10 actions. 10 ≥ 10. (4) Page 17: 14 use cases. 14 ≥ 10. (5) Page 18: 11 use cases. 11 ≥ 10. (6) Page 30: 13 tables. 13 ≥ 10."
    },
    {
      "rule_id": "S1.2",
      "actual": true,
      "detected": false,
      "justification": "Counted visual connection lines for elements on each diagram page. Page 30 (most connected diagram): 'aine' table has 4 visible connections (to aine_opingukavas, aine_tyypopingukavas, opetamine, piirang). 'opingukava' has 5 connections (to semester, tyypopingukava, opingukava_seisundi_liik_r, yliopilane, aine_opingukavas). Page 26: 'Vastuvott' has 4 connections. Maximum connection count found is 5. Threshold is ≥6. Since 5 < 6, smell is NOT present."
    },
    {
      "rule_id": "S2.1",
      "actual": true,
      "detected": false,
      "justification": "Visual spatial analysis of element distances cannot be accurately performed from the text-based PDF extraction. Based on the diagram content structure showing logically grouped elements, no clear evidence of elements being positioned at distances exceeding 2× the average distance was identified. Smell NOT detected due to insufficient visual positioning data."
    },
    {
      "rule_id": "N1.1",
      "actual": true,
      "detected": true,
      "justification": "Page 17 use cases predominantly use gerund/noun forms instead of active verbs: 'Kuulajaskonna vaatamine' (Viewing of listener group - starts with noun), 'Õpingukava koostamine' (starts with noun), 'Vastuste lugemine' (starts with noun), 'Semestrite haldamine' (starts with noun), etc. These 13 use cases use the pattern 'Noun + gerund' rather than 'Verb + object'. Active verb form would be 'Vaata kuulajaskonda' not 'Kuulajaskonna vaatamine'. At least one use case/action starts with noun or passive form, smell IS present."
    },
    {
      "rule_id": "N1.2",
      "actual": true,
      "detected": true,
      "justification": "Page 29 'Õpingukavade AB disaini diagramm (õingukava sündmus)': The table 'opingukava_syndmus' contains column 'aeg' (meaning 'time'). Character count: a-e-g = 3 characters. Threshold is ≤3 characters. Since 3 ≤ 3, smell IS present."
    },
    {
      "rule_id": "N3.1",
      "actual": true,
      "detected": false,
      "justification": "Examined class names in conceptual class diagrams (pages 5-11). All entity/class names start with uppercase and are singular: Isik, Klassifikaator, Amet, Töötaja, Õpingukava, Semester, Õppeaine, Üliõpilane, Vastuvõtt, etc. No class name starts with lowercase letter and no class name is plural."
    },
    {
      "rule_id": "N3.2",
      "actual": false,
      "detected": false,
      "justification": "Examined attribute/column names across all diagrams. Page 21: isikukood, e_mail, kasutajanimi, parool, eesnimi, perenimi, elukoht - all lowercase. Page 22: amet_r_id, nimetus, kirjeldus, on_aktiivne - all lowercase. Pages 27-32: all column names use snake_case with lowercase (opingukava_id, semester_id, matrikli_nr, ainekood, etc.). All attributes/columns start with lowercase."
    },
    {
      "rule_id": "N3.3",
      "actual": false,
      "detected": false,
      "justification": "Examined database table names across pages 21-32. All tables use singular names: Isik (not Isikud), Tootaja (not Tootajad), Yliopilane (not Yliopilased), Ruum (not Ruumid), Hoone (not Hooned), Vastuvott, Vastuvotuaeg, Semester, aine, opingukava, moodul_r, etc. No plural table names found."
    },
    {
      "rule_id": "N4.1",
      "actual": false,
      "detected": false,
      "justification": "Examined table, class, and attribute names for type prefixes. No prefixes like 'tbl_', 'uc_', 'str', 'int' were found. The '_R' suffix on classifiers (Amet_R, Yliopilase_seisundi_liik_R) indicates 'register' (reference data) not a type. 'PK_', 'FK_', 'pfK', 'idx_' prefixes are allowed per the rule and were appropriately ignored. No prohibited type prefixes found."
    }
  ]
}

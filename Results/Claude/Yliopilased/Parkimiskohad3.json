{
  "file_name": "Parkimiskohad3",
  "timestamp": "2025-12-30T15:26:43Z",
  "llm_model": "Claude Opus 4.5",
  "smell_analysis": [
    {
      "rule_id": "G5.1",
      "actual": false,
      "detected": false,
      "justification": "No empty diagrams were found. All 18 diagram pages contain at least one element. Page 1 contains a package diagram with multiple packages and actors, Page 2 contains a use case diagram with 11 use cases, and so on."
    },
    {
      "rule_id": "G5.2",
      "actual": false,
      "detected": false,
      "justification": "All use case ovals on Page 2 (Parklakohtade funktsionaalne alls\u00fcsteem) are associated with at least one actor. For example: 'Registreeri parklakoht' is connected to 'Parklakoha haldur', 'L\u00f5peta parklakoht' is connected to 'Juhataja', 'Vaata aktiivseid parklakohti' is connected to 'Klient'. The 'Tuvasta kasutaja' use case is connected via \u00abinclude\u00bb relationships to other use cases that have actor associations."
    },
    {
      "rule_id": "G6.1",
      "actual": false,
      "detected": false,
      "justification": "No duplicate use cases with same activity names and same actors found. While there are multiple 'Vaata' (View) use cases, they describe different activities: 'Vaata aktiivseid parklakohti' (view active), 'Vaata k\u00f5iki parklakohti' (view all), 'Vaata k\u00f5iki ootel v\u00f5i mitteaktiivseid parklakohti' (view pending/inactive), 'Vaata parklakohtade koondaruannet' (view summary report). These are distinct activities, not duplicates."
    },
    {
      "rule_id": "G6.2",
      "actual": false,
      "detected": false,
      "justification": "No multiple model elements with the same name exist in the same package. Each package (Isikute register, Klassifikaatorite register, T\u00f6\u00f6tajate register, Parklakohtade register, Klientide register, Parklate register) contains uniquely named elements."
    },
    {
      "rule_id": "G6.3",
      "actual": false,
      "detected": false,
      "justification": "No redundant data copies without FK relationships found. Common columns like 'nimetus' and 'on_aktiivne' appear in multiple classifier tables, but these represent different contexts for different classifier types. Columns like 'reg_aeg' and 'viimase_muutm_aeg' in Isik and Parklakoht represent different audit timestamps for different entities, not redundant data."
    },
    {
      "rule_id": "G8.1",
      "actual": false,
      "detected": false,
      "justification": "All use cases on Page 2 follow consistent naming starting with active verbs (Estonian imperative forms): Tuvasta (Identify), Vaata (View), L\u00f5peta (End), Registreeri (Register), Muuda (Modify), Aktiveeri (Activate), Unusta (Forget). All follow the verb-first pattern."
    },
    {
      "rule_id": "G15.1",
      "actual": false,
      "detected": false,
      "justification": "On Page 10 (Parklakoha seisundidiagramm), all states are reachable: Ootel is reached from Alg (initial), Aktiivne is reached from Ootel, Mitteaktiivne is reached from Aktiivne, L\u00f5petatud is reached from Aktiivne or Mitteaktiivne, Unustatud is reached from Ootel. No unreachable states exist."
    },
    {
      "rule_id": "G15.2",
      "actual": false,
      "detected": false,
      "justification": "On Pages 3 and 4 (activity diagrams), all actions are reachable from the start node (Algus). Page 3: Algus \u2192 Vaata k\u00f5iki parklakohti \u2192 decision nodes \u2192 other actions. Page 4: Algus \u2192 action sequence \u2192 L\u00f5pp. All actions have incoming flows from the start or previous actions."
    },
    {
      "rule_id": "G15.3",
      "actual": false,
      "detected": false,
      "justification": "All relationships in class/database diagrams have multiplicity indicators on both ends. For example, on Page 9 (Parklakohtade register): Parklakoht to T\u00f6\u00f6taja shows '1' and '0..*', Parklakoht to Parklakoha_seisundi_liik shows '0..*' and '1'. On Page 13 (DDL), all FK relationships show multiplicities like '0..*' and '1'."
    },
    {
      "rule_id": "S1.1",
      "actual": true,
      "detected": true,
      "justification": "Detected on multiple pages: (1) Page 2 (Parklakohtade funktsionaalne alls\u00fcsteem) contains 11 use cases: Tuvasta kasutaja, Vaata parklakohtade koondaruannet, L\u00f5peta parklakoht, Registreeri parklakoht, Muuda parklakoht, Aktiveeri parklakoht, Muuda parklakoht mittaktiivseks, Vaata aktiivseid parklakohti, Vaata k\u00f5iki parklakohti, Vaata k\u00f5iki ootel v\u00f5i mitteaktiivseid parklakohti, Unusta parklakoht. Count = 11. Threshold \u226510. 11 \u2265 10, smell IS present. (2) Page 7 (Klassifikaatorite register) contains 10 classes: Klassifikaator, Riik, Parklakoha_seisundi_liik, T\u00f6\u00f6taja_seisundi_liik, Isiku_seisundi_liik, T\u00f6\u00f6taja_roll, Parklakoha_kategooria, Parklakoha_kategooria_t\u00fc\u00fcp, Kliendi_seisundi_liik, Parkla_seisundi_liik. Count = 10. 10 \u2265 10, smell IS present. (3) Page 13 (DDL) contains 17 tables: Isik, Kasutajakonto, Riik, Parklakoha_seisundi_liik, Tootaja_seisundi_liik, Isiku_seisundi_liik, Tootaja_roll, Parklakoha_kategooria, Parklakoha_kategooria_tyyp, Kliendi_seisundi_liik, Parkla_seisundi_liik, Klient, Parkla, Parklakoha_kategooria_omamine, Parklakoht, Tootaja, Tootaja_rolli_omamine. Count = 17. 17 \u2265 10, smell IS present."
    },
    {
      "rule_id": "S1.2",
      "actual": false,
      "detected": true,
      "justification": "On Page 13 (DDL diagram), the Tootaja table has 6 visual connection lines: (1) FK_Tootaja_Isik \u2192 Isik, (2) FK_Tootaja_Tootaja (self-reference for mentor), (3) FK_Tootaja_Tootaja_seisundi_liik \u2192 Tootaja_seisundi_liik, (4) FK_Tootaja_rolli_omamine_Tootaja \u2190 Tootaja_rolli_omamine, (5) FK_Parklakoht_Tootaja_registreerija \u2190 Parklakoht, (6) FK_Parklakoht_Tootaja_viimane_muutja \u2190 Parklakoht. Count = 6 visible connection lines. Threshold \u22656. 6 \u2265 6, smell IS present."
    },
    {
      "rule_id": "S2.1",
      "actual": true,
      "detected": false,
      "justification": "Cannot accurately determine from text extraction. The diagrams appear to have reasonably organized layouts based on the structure shown. Without precise coordinate data, distance calculations cannot be performed to verify if any relationship distance exceeds 2\u00d7 the average distance."
    },
    {
      "rule_id": "N1.1",
      "actual": true,
      "detected": true,
      "justification": "On Page 4 (Aktiveeri parklakoht tegevusdiagramm), several actions do not start with active verbs: (1) 'Parklahaldur/tehnik soovib parklakoha aktiveerida' starts with the noun 'Parklahaldur' (actor name), (2) 'Parklakoht aktiveeritud' is a passive/result state meaning 'Parking spot activated' - not an active verb, (3) 'Aktiveerimine eba\u00f5nnestub' starts with the noun 'Aktiveerimine' (Activation) rather than an active verb. These actions should start with active verbs like 'Aktiveeri', 'M\u00e4rgi', etc."
    },
    {
      "rule_id": "N1.2",
      "actual": false,
      "detected": false,
      "justification": "All class names, table names, and attribute names have 4 or more characters. Shortest names found: 'Isik' (4 chars), 'Riik' (4 chars), 'kood' (4 chars). Threshold is \u22643 characters. 4 > 3, smell is NOT present. No names with \u22643 characters were identified."
    },
    {
      "rule_id": "N3.1",
      "actual": false,
      "detected": false,
      "justification": "All class names start with uppercase letters and are singular: Isik, T\u00f6\u00f6taja, Parklakoht, Klassifikaator, Riik, Kasutajakonto, Klient, Parkla, T\u00f6\u00f6taja_rolli_omamine, Parklakoha_kategooria_omamine, etc. No lowercase starting letters or plural forms found."
    },
    {
      "rule_id": "N3.2",
      "actual": true,
      "detected": true,
      "justification": "On Page 12 (Parklate register class diagram), the Parkla class has an attribute 'Aadress' that starts with an uppercase letter 'A'. According to the rule, attribute/column names should start with lowercase. Other attributes like 'kommentaar', 'korgus', 'reg_aeg', 'nimetus', 'on_aktiivne' correctly start with lowercase letters."
    },
    {
      "rule_id": "N3.3",
      "actual": false,
      "detected": false,
      "justification": "All database table names in the DDL diagrams (Pages 13-18) are singular: Isik, Kasutajakonto, Riik, Parklakoha_seisundi_liik, Tootaja_seisundi_liik, Isiku_seisundi_liik, Tootaja_roll, Parklakoha_kategooria, Parklakoha_kategooria_tyyp, Kliendi_seisundi_liik, Parkla_seisundi_liik, Klient, Parkla, Parklakoha_kategooria_omamine, Parklakoht, Tootaja, Tootaja_rolli_omamine. No plural table names found."
    },
    {
      "rule_id": "N4.1",
      "actual": false,
      "detected": false,
      "justification": "No type prefixes like 'tbl_', 'uc_', 'str', 'int' found in class, table, or attribute names. The prefixes 'PK_', 'FK_', 'pfK', and 'IXFK_' that appear are explicitly allowed by the rule (for primary keys, foreign keys, partial foreign keys, and indexes). All other names like 'isik_id', 'parklakoht_kood', 'tootaja_id', 'nimetus', 'on_aktiivne' do not contain type prefixes."
    }
  ]
}
